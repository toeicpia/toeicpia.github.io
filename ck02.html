<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ì€ì‹ì–´í•™ì› - Interactive Reader</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --bg: #f8f9fa;
            --text: #333;
            --light-gray: #e0e0e0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* 0. í•„ìˆ˜ ìƒë‹¨ í‘œê¸° */
        h1 {
            text-align: center;
            color: var(--primary);
            margin: 20px 0;
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 250px; /* í•˜ë‹¨ ë°” ê°€ë¦¼ ë°©ì§€ */
        }

        /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
            position: sticky;
            top: 10px;
            z-index: 100;
        }

        .btn-pill {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 50px;
            padding: 8px 16px;
            font-size: 0.9rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-pill.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* í…ìŠ¤íŠ¸ ì˜ì—­ */
        #content-area {
            font-size: 1.5rem;
            line-height: 2.2;
            word-break: keep-all;
        }

        .sentence {
            margin-bottom: 1.5rem;
            display: inline-block; /* ë¬¸ë‹¨ íë¦„ ìœ ì§€ */
        }

        .chunk {
            display: inline-block;
            margin-right: 5px;
            opacity: 0; /* ê¸°ë³¸ ìˆ¨ê¹€ */
            transition: opacity 0.3s ease;
            position: relative;
            cursor: pointer;
        }
        
        /* í€´ì¦ˆ ëª¨ë“œ: ê°€ë¦¼ë§‰ */
        .chunk.quiz-mode {
            background-color: black;
            color: black;
            border-radius: 4px;
            opacity: 1 !important; /* ë°•ìŠ¤ëŠ” ë³´ì—¬ì•¼ í•¨ */
        }
        .chunk.quiz-mode.revealed {
            background-color: transparent;
            color: var(--text);
            opacity: 1;
        }

        .chunk.revealed {
            opacity: 1;
        }

        /* ìŠ¤í”¼ë“œ ë¦¬ë”©ìš© í´ë˜ìŠ¤ */
        .chunk.flash-active {
            opacity: 1 !important;
            background-color: #fff3cd; /* ê°•ì¡°ìƒ‰ */
        }
        .chunk.flash-hidden {
            opacity: 0 !important;
        }

        /* í•˜ë‹¨ ê³ ì • ë°” */
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            padding: 15px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
            z-index: 1000;
        }

        .nav-btn {
            height: 55px; /* min-height 50px ë³´ì¥ */
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn-back {
            width: 20%;
            background-color: #f1f3f5;
            color: var(--primary);
        }

        .btn-next {
            width: 25%;
            background-color: var(--primary);
            color: white;
        }

        .trans-box {
            width: 53%; /* 55%ì—ì„œ ì—¬ë°± ê³ ë ¤ ë¯¸ì„¸ ì¡°ì • */
            min-height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.95rem;
            color: #555;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 5px;
            word-break: keep-all;
            border: 1px solid #eee;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1rem; }
            #content-area { font-size: 1.2rem; }
            .btn-pill { font-size: 0.8rem; padding: 6px 12px; }
        }
    </style>
</head>
<body>

    <h1>ì˜ì–´ëŠ” ê¸°ë‹¤ë¦¼ê³¼ ì±„ì›€ì˜ ê°ê°ìœ¼ë¡œ -ì´ì€ì‹ì–´í•™ì›</h1>

    <div class="container">
        <div class="controls">
            <button class="btn-pill active" id="btn-short" onclick="setMode('short')">âœ‚ï¸ ì§§ì€ í˜¸í¡</button>
            <button class="btn-pill" id="btn-long" onclick="setMode('long')">ğŸŒŠ ê¸´ í˜¸í¡</button>
            <button class="btn-pill" id="btn-quiz" onclick="toggleQuiz()">ğŸ”’ Quiz</button>
            <button class="btn-pill" id="btn-speed" onclick="startSpeedRead()">âš¡ Speed Read</button>
            <button class="btn-pill" onclick="speakCurrent()">ğŸ”Š ë“£ê¸°</button>
            <button class="btn-pill" onclick="revealAll()">ğŸ‘€ ì „ì²´ ë³´ê¸°</button>
        </div>

        <div id="content-area"></div>
    </div>

    <div class="bottom-bar">
        <button class="nav-btn btn-back" onclick="prevChunk()">â—€ Back</button>
        <div class="trans-box" id="trans-display">í•´ì„ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        <button class="nav-btn btn-next" onclick="nextChunk()">Next â–¶</button>
    </div>

    <script>
        // ë°ì´í„°: [ì˜ì–´, í•œêµ­ì–´(ì§ë…ì§í•´)]
        const rawData = [
            {
                short: [
                    ["Global Tech Solutions is", "Global Tech SolutionsëŠ” ì´ë‹¤"],
                    ["currently seeking", "í˜„ì¬ ì°¾ê³  ìˆëŠ” ì¤‘"],
                    ["a passionate graphic designer.", "ì—´ì •ì ì¸ ê·¸ë˜í”½ ë””ìì´ë„ˆë¥¼."]
                ],
                long: [
                    ["Global Tech Solutions is currently seeking", "Global Tech SolutionsëŠ” í˜„ì¬ ì°¾ê³  ìˆë‹¤"],
                    ["a passionate graphic designer.", "ì—´ì •ì ì¸ ê·¸ë˜í”½ ë””ìì´ë„ˆë¥¼."]
                ]
            },
            {
                short: [
                    ["We are", "ìš°ë¦¬ëŠ” ì´ë‹¤"],
                    ["a leading company", "ì„ ë„í•˜ëŠ” íšŒì‚¬"],
                    ["in the tech industry.", "ê¸°ìˆ  ì‚°ì—…ì—ì„œ."]
                ],
                long: [
                    ["We are a leading company", "ìš°ë¦¬ëŠ” ì„ ë„í•˜ëŠ” íšŒì‚¬ì´ë‹¤"],
                    ["in the tech industry.", "ê¸°ìˆ  ì‚°ì—…ì—ì„œ."]
                ]
            },
            {
                short: [
                    ["We want", "ìš°ë¦¬ëŠ” ì›í•œë‹¤"],
                    ["a person", "í•œ ì‚¬ëŒì„"],
                    ["who loves", "ì‚¬ë‘í•˜ëŠ” (ëˆ„êµ¬ëƒë©´)"],
                    ["creative challenges.", "ì°½ì˜ì ì¸ ë„ì „ë“¤ì„."]
                ],
                long: [
                    ["We want a person", "ìš°ë¦¬ëŠ” ì‚¬ëŒì„ ì›í•œë‹¤"],
                    ["who loves creative challenges.", "ì°½ì˜ì ì¸ ë„ì „ì„ ì‚¬ë‘í•˜ëŠ”."]
                ]
            },
            {
                short: [
                    ["Our goal is", "ìš°ë¦¬ì˜ ëª©í‘œëŠ” ì´ë‹¤"],
                    ["to make", "ë§Œë“œëŠ” ê²ƒ"],
                    ["the world better", "ì„¸ìƒì„ ë” ë‚«ê²Œ"],
                    ["through design.", "ë””ìì¸ì„ í†µí•´."]
                ],
                long: [
                    ["Our goal is to make the world better", "ìš°ë¦¬ì˜ ëª©í‘œëŠ” ì„¸ìƒì„ ë” ë‚«ê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤"],
                    ["through design.", "ë””ìì¸ì„ í†µí•´."]
                ]
            },
            {
                short: [
                    ["The new designer", "ìƒˆë¡œìš´ ë””ìì´ë„ˆëŠ”"],
                    ["will join", "í•©ë¥˜í•  ê²ƒì´ë‹¤"],
                    ["our marketing team.", "ìš°ë¦¬ ë§ˆì¼€íŒ… íŒ€ì—."]
                ],
                long: [
                    ["The new designer will join", "ìƒˆë¡œìš´ ë””ìì´ë„ˆëŠ” í•©ë¥˜í•  ê²ƒì´ë‹¤"],
                    ["our marketing team.", "ìš°ë¦¬ ë§ˆì¼€íŒ… íŒ€ì—."]
                ]
            },
            {
                short: [
                    ["You will create", "ë‹¹ì‹ ì€ ë§Œë“¤ ê²ƒì´ë‹¤"],
                    ["visual content", "ì‹œê°ì  ì½˜í…ì¸ ë¥¼"],
                    ["for social media.", "ì†Œì…œ ë¯¸ë””ì–´ë¥¼ ìœ„í•´."]
                ],
                long: [
                    ["You will create visual content", "ë‹¹ì‹ ì€ ì‹œê°ì  ì½˜í…ì¸ ë¥¼ ë§Œë“¤ ê²ƒì´ë‹¤"],
                    ["for social media.", "ì†Œì…œ ë¯¸ë””ì–´ë¥¼ ìœ„í•´."]
                ]
            },
            {
                short: [
                    ["We find", "ìš°ë¦¬ëŠ” ìƒê°í•œë‹¤"],
                    ["this role essential", "ì´ ì—­í• ì´ í•„ìˆ˜ì ì´ë¼ê³ "],
                    ["for our brand identity.", "ìš°ë¦¬ì˜ ë¸Œëœë“œ ì •ì²´ì„±ì„ ìœ„í•´."]
                ],
                long: [
                    ["We find this role essential", "ìš°ë¦¬ëŠ” ì´ ì—­í• ì´ í•„ìˆ˜ì ì´ë¼ ìƒê°í•œë‹¤"],
                    ["for our brand identity.", "ìš°ë¦¬ì˜ ë¸Œëœë“œ ì •ì²´ì„±ì„ ìœ„í•´."]
                ]
            },
            {
                short: [
                    ["Also,", "ë˜í•œ,"],
                    ["you will design", "ë‹¹ì‹ ì€ ë””ìì¸í•  ê²ƒì´ë‹¤"],
                    ["brochures and logos", "ë¸Œë¡œì…”ì™€ ë¡œê³ ë“¤ì„"],
                    ["used", "ì‚¬ìš©ë˜ëŠ”"],
                    ["for our campaigns.", "ìš°ë¦¬ ìº í˜ì¸ì„ ìœ„í•´."]
                ],
                long: [
                    ["Also, you will design brochures and logos", "ë˜í•œ, ë‹¹ì‹ ì€ ë¸Œë¡œì…”ì™€ ë¡œê³ ë¥¼ ë””ìì¸í•  ê²ƒì´ë‹¤"],
                    ["used for our campaigns.", "ìš°ë¦¬ ìº í˜ì¸ì— ì‚¬ìš©ë˜ëŠ”."]
                ]
            },
            {
                short: [
                    ["We expect", "ìš°ë¦¬ëŠ” ê¸°ëŒ€í•œë‹¤"],
                    ["the candidate", "ì§€ì›ìê°€"],
                    ["to be proactive.", "ì£¼ë„ì ì´ê¸°ë¥¼."]
                ],
                long: [
                    ["We expect", "ìš°ë¦¬ëŠ” ê¸°ëŒ€í•œë‹¤"],
                    ["the candidate to be proactive.", "ì§€ì›ìê°€ ì£¼ë„ì ì´ê¸°ë¥¼."]
                ]
            },
            {
                short: [
                    ["Applicants", "ì§€ì›ìë“¤ì€"],
                    ["must have", "ê°€ì ¸ì•¼ë§Œ í•œë‹¤"],
                    ["a bachelorâ€™s degree", "í•™ì‚¬ í•™ìœ„ë¥¼"],
                    ["in design.", "ë””ìì¸ ë¶„ì•¼ì—ì„œ."]
                ],
                long: [
                    ["Applicants must have a bachelorâ€™s degree", "ì§€ì›ìë“¤ì€ í•™ì‚¬ í•™ìœ„ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤"],
                    ["in design.", "ë””ìì¸ ë¶„ì•¼ì—ì„œ."]
                ]
            },
            {
                short: [
                    ["We prefer", "ìš°ë¦¬ëŠ” ì„ í˜¸í•œë‹¤"],
                    ["candidates", "ì§€ì›ìë“¤ì„"],
                    ["having experience", "ê²½í—˜ì„ ê°€ì§„"],
                    ["in digital art.", "ë””ì§€í„¸ ì•„íŠ¸ì—ì„œ."]
                ],
                long: [
                    ["We prefer candidates having experience", "ìš°ë¦¬ëŠ” ê²½í—˜ ìˆëŠ” ì§€ì›ìë¥¼ ì„ í˜¸í•œë‹¤"],
                    ["in digital art.", "ë””ì§€í„¸ ì•„íŠ¸ì—ì„œ."]
                ]
            },
            {
                short: [
                    ["You", "ë‹¹ì‹ ì€"],
                    ["should be proficient", "ëŠ¥ìˆ™í•´ì•¼ í•œë‹¤"],
                    ["in Adobe Creative Suite.", "Adobe Creative Suiteì—."]
                ],
                long: [
                    ["You should be proficient", "ë‹¹ì‹ ì€ ëŠ¥ìˆ™í•´ì•¼ í•œë‹¤"],
                    ["in Adobe Creative Suite.", "Adobe Creative Suiteì—."]
                ]
            },
            {
                short: [
                    ["Excellent communication skills", "ë›°ì–´ë‚œ ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ì€"],
                    ["are", "ì´ë‹¤"],
                    ["also necessary.", "ë˜í•œ í•„ìˆ˜ì ì¸."]
                ],
                long: [
                    ["Excellent communication skills are also necessary.", "ë›°ì–´ë‚œ ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ì€ ë˜í•œ í•„ìˆ˜ì ì´ë‹¤."]
                ]
            },
            {
                short: [
                    ["Interested candidates", "ê´€ì‹¬ ìˆëŠ” ì§€ì›ìë“¤ì€"],
                    ["should send", "ë³´ë‚´ì•¼ í•œë‹¤"],
                    ["a resume", "ì´ë ¥ì„œ í•˜ë‚˜ë¥¼"],
                    ["and a portfolio.", "ê·¸ë¦¬ê³  í¬íŠ¸í´ë¦¬ì˜¤ í•˜ë‚˜ë¥¼."]
                ],
                long: [
                    ["Interested candidates should send", "ê´€ì‹¬ ìˆëŠ” ì§€ì›ìë“¤ì€ ë³´ë‚´ì•¼ í•œë‹¤"],
                    ["a resume and a portfolio.", "ì´ë ¥ì„œì™€ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼."]
                ]
            },
            {
                short: [
                    ["Please visit", "ë°©ë¬¸í•´ ë‹¬ë¼"],
                    ["our website", "ìš°ë¦¬ ì›¹ì‚¬ì´íŠ¸ë¥¼"],
                    ["created", "ë§Œë“¤ì–´ì§„"],
                    ["for job applications.", "ì…ì‚¬ ì§€ì›ì„ ìœ„í•´."]
                ],
                long: [
                    ["Please visit our website", "ìš°ë¦¬ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•´ ë‹¬ë¼"],
                    ["created for job applications.", "ì…ì‚¬ ì§€ì›ì„ ìœ„í•´ ë§Œë“¤ì–´ì§„."]
                ]
            },
            {
                short: [
                    ["We will contact", "ìš°ë¦¬ëŠ” ì—°ë½í•  ê²ƒì´ë‹¤"],
                    ["people", "ì‚¬ëŒë“¤ì—ê²Œ"],
                    ["selected", "ì„ íƒëœ"],
                    ["for an interview.", "ë©´ì ‘ì„ ìœ„í•´."]
                ],
                long: [
                    ["We will contact people", "ìš°ë¦¬ëŠ” ì‚¬ëŒë“¤ì—ê²Œ ì—°ë½í•  ê²ƒì´ë‹¤"],
                    ["selected for an interview.", "ë©´ì ‘ì„ ìœ„í•´ ì„ íƒëœ."]
                ]
            },
            {
                short: [
                    ["The deadline", "ë§ˆê°ì¼ì€"],
                    ["is", "ì´ë‹¤"],
                    ["next Friday.", "ë‹¤ìŒ ì£¼ ê¸ˆìš”ì¼."]
                ],
                long: [
                    ["The deadline is next Friday.", "ë§ˆê°ì¼ì€ ë‹¤ìŒ ì£¼ ê¸ˆìš”ì¼ì´ë‹¤."]
                ]
            }
        ];

        let currentMode = 'short';
        let chunks = []; // í˜„ì¬ ëª¨ë“œì˜ ëª¨ë“  ì²­í¬ ìš”ì†Œ(DOM) ì €ì¥
        let flatData = []; // í˜„ì¬ ëª¨ë“œì˜ ëª¨ë“  ë°ì´í„°(í…ìŠ¤íŠ¸, í•´ì„) í‰íƒ„í™” ì €ì¥
        let currentIndex = -1;
        let isQuizMode = false;
        let isSpeedReading = false;
        let speedInterval;

        const contentArea = document.getElementById('content-area');
        const transDisplay = document.getElementById('trans-display');
        const btnShort = document.getElementById('btn-short');
        const btnLong = document.getElementById('btn-long');
        const btnQuiz = document.getElementById('btn-quiz');

        function setMode(mode) {
            currentMode = mode;
            btnShort.classList.toggle('active', mode === 'short');
            btnLong.classList.toggle('active', mode === 'long');
            renderText();
        }

        function toggleQuiz() {
            isQuizMode = !isQuizMode;
            btnQuiz.classList.toggle('active', isQuizMode);
            renderText(); // í€´ì¦ˆ ëª¨ë“œ ì ìš©í•˜ì—¬ ë‹¤ì‹œ ë Œë”ë§
        }

        function renderText() {
            // ì´ˆê¸°í™”
            contentArea.innerHTML = '';
            chunks = [];
            flatData = [];
            currentIndex = -1;
            transDisplay.innerText = "Start ë²„íŠ¼ì„ ëˆ„ë¥´ê±°ë‚˜ í‚¤ë³´ë“œ í™”ì‚´í‘œ(â–¶)ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.";
            stopSpeedRead();

            rawData.forEach(sentenceObj => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.className = 'sentence';
                
                const sentenceData = sentenceObj[currentMode];
                
                sentenceData.forEach(chunkData => {
                    const span = document.createElement('span');
                    span.className = 'chunk';
                    span.innerText = chunkData[0] + " "; // ì˜ì–´ í…ìŠ¤íŠ¸
                    
                    if (isQuizMode) span.classList.add('quiz-mode');

                    sentenceDiv.appendChild(span);
                    chunks.push(span);
                    flatData.push({ en: chunkData[0], ko: chunkData[1] });
                });

                contentArea.appendChild(sentenceDiv);
            });
        }

        function nextChunk() {
            if (isSpeedReading) return; // ìŠ¤í”¼ë“œ ë¦¬ë”© ì¤‘ì—ëŠ” ìˆ˜ë™ ì¡°ì‘ ë°©ì§€
            if (currentIndex < chunks.length - 1) {
                currentIndex++;
                updateChunkState();
            }
        }

        function prevChunk() {
            if (isSpeedReading) return;
            if (currentIndex >= 0) {
                const currentChunk = chunks[currentIndex];
                currentChunk.classList.remove('revealed');
                if(isQuizMode) currentChunk.classList.remove('revealed'); // í€´ì¦ˆ ëª¨ë“œ ë³µêµ¬
                
                currentIndex--;
                if (currentIndex >= 0) {
                    transDisplay.innerText = flatData[currentIndex].ko;
                } else {
                    transDisplay.innerText = "ì²« ë¬¸ì¥ì…ë‹ˆë‹¤.";
                }
            }
        }

        function updateChunkState() {
            const currentChunk = chunks[currentIndex];
            currentChunk.classList.add('revealed');
            
            // í…ìŠ¤íŠ¸ ë°•ìŠ¤ ì—…ë°ì´íŠ¸
            transDisplay.innerText = flatData[currentIndex].ko;

            // ìŠ¤í¬ë¡¤ ìë™ ì´ë™ (í™”ë©´ ì•„ë˜ë¡œ ë‚´ë ¤ê°ˆ ê²½ìš°)
            const rect = currentChunk.getBoundingClientRect();
            if (rect.bottom > window.innerHeight - 80) {
                window.scrollBy({ top: 100, behavior: 'smooth' });
            }
        }

        function revealAll() {
            stopSpeedRead();
            chunks.forEach(chunk => chunk.classList.add('revealed'));
            currentIndex = chunks.length - 1;
            transDisplay.innerText = "ì „ì²´ ë¬¸ì¥ì´ ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤.";
        }

        function speakCurrent() {
            if (currentIndex >= 0 && currentIndex < flatData.length) {
                const text = flatData[currentIndex].en;
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 1.0;
                window.speechSynthesis.speak(utterance);
            } else {
                transDisplay.innerText = "ë¨¼ì € í…ìŠ¤íŠ¸ë¥¼ ì„ íƒ(Next)í•´ì£¼ì„¸ìš”.";
            }
        }

        // --- ìŠ¤í”¼ë“œ ë¦¬ë”© ë¡œì§ ---
        function startSpeedRead() {
            if (isSpeedReading) {
                stopSpeedRead();
                return;
            }
            isSpeedReading = true;
            document.getElementById('btn-speed').classList.add('active');
            
            // ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘
            chunks.forEach(c => {
                c.classList.remove('revealed', 'flash-active', 'flash-hidden');
                c.style.opacity = '0';
            });
            currentIndex = -1;
            
            processSpeedChunk();
        }

        function stopSpeedRead() {
            isSpeedReading = false;
            clearTimeout(speedInterval);
            document.getElementById('btn-speed').classList.remove('active');
            // ìƒíƒœ ë³µêµ¬: í˜„ì¬ê¹Œì§€ ì§„í–‰ëœ ê²ƒë§Œ ë³´ì´ê²Œ í•˜ê±°ë‚˜, ë‹¤ ìˆ¨ê¸°ê±°ë‚˜ ì„ íƒ ê°€ëŠ¥. 
            // ì—¬ê¸°ì„œëŠ” ìŠ¤í”¼ë“œ ë¦¬ë”© ì¢…ë£Œ ì‹œ ë§ˆì§€ë§‰ ìƒíƒœ ìœ ì§€.
        }

        function processSpeedChunk() {
            if (!isSpeedReading) return;

            // ì´ì „ ì²­í¬ ìˆ¨ê¸°ê¸° (ì§ë…ì§í•´ ê°•ì œ)
            if (currentIndex >= 0) {
                chunks[currentIndex].classList.remove('flash-active');
                chunks[currentIndex].classList.add('flash-hidden');
            }

            currentIndex++;
            
            if (currentIndex >= chunks.length) {
                stopSpeedRead();
                transDisplay.innerText = "Speed Read ì™„ë£Œ.";
                // ë‹¤ì‹œ ë‹¤ ë³´ì—¬ì£¼ê¸° (ì˜µì…˜)
                chunks.forEach(c => {
                    c.classList.remove('flash-hidden');
                    c.classList.add('revealed');
                });
                return;
            }

            const currentChunk = chunks[currentIndex];
            const currentData = flatData[currentIndex];

            // í˜„ì¬ ì²­í¬ ë³´ì´ê¸°
            currentChunk.classList.add('flash-active');
            transDisplay.innerText = currentData.ko;

            // ë‹¨ì–´ ê¸¸ì´ì— ë¹„ë¡€í•œ ì‹œê°„ ê³„ì‚° (ìµœì†Œ 500ms, ê¸€ìë‹¹ 50ms ì¶”ê°€)
            const delay = 500 + (currentData.en.length * 50);

            speedInterval = setTimeout(processSpeedChunk, delay);
        }

        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸
        document.addEventListener('keydown', (e) => {
            if (e.code === 'ArrowRight') nextChunk();
            if (e.code === 'ArrowLeft') prevChunk();
            if (e.code === 'Space') speakCurrent();
        });

        // ì´ˆê¸° ì‹¤í–‰
        renderText();

    </script>
</body>
</html>